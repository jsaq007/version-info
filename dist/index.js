"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react/jsx-runtime"),t=require("react"),r="undefined"!=typeof document?document.currentScript:null;const n=(e,t="patch")=>{const r=(e.startsWith("v")?e.slice(1):e).split(".").map(Number);if(3!==r.length)return e;switch(t){case"major":r[0]+=1,r[1]=0,r[2]=0;break;case"minor":r[1]+=1,r[2]=0;break;default:r[2]+=1}return`${e.startsWith("v")?"v":""}${r.join(".")}`},s=e=>{try{"undefined"==typeof document?require("url").pathToFileURL(__filename).href:r&&"SCRIPT"===r.tagName.toUpperCase()&&r.src||new URL("index.js",document.baseURI).href,0}catch{}const t=[()=>globalThis.import?.meta?.env?.[e],()=>globalThis.__VITE_ENV__?.[e],()=>globalThis.VITE_ENV?.[e],()=>process.env?.[e],()=>window?.__ENV__?.[e]];for(let e=0;e<t.length;e++)try{const r=t[e]();if(r)return r}catch{}},o=e=>{if(!e)return;const t=parseInt(e,10);if(isNaN(t))return;return(t<1e10?new Date(1e3*t):new Date(t)).toISOString()},i=(e,t=7)=>e?e.slice(0,t):void 0,a=e=>{const t=e?.productionVersion||s("VITE_VERSION"),r=e?.environment||s("VITE_APP_ENV")||s("NODE_ENV")||"development",i=e?.packageVersion||s("VITE_PACKAGE_VERSION")||s("npm_package_version")||"0.0.0",a=e?.commitHash||s("VITE_COMMIT_HASH")||s("GITHUB_SHA"),c=e?.buildTime||o(s("VITE_BUILD_TIME")),m=r||"development";let u="0.0.0",l=t||"v0.0.0",p=i||"0.0.0";const d=l.startsWith("v")?l.slice(1):l;return u="production"===m?l:p!==d?n(l):l,{version:u,buildTime:c,commitHash:a,environment:m,packageVersion:i}},c=(e,t)=>{const{showEnvironment:r=!0,showCommitHash:n=!0,showBuildTime:s=!1}=t||{};let o=e.version.startsWith("v")?e.version:`v${e.version}`;if("production"===e.environment)return o;if(r&&e.environment&&"production"!==e.environment&&(o+=` (${e.environment})`),n&&e.commitHash&&(o+=` #${i(e.commitHash)}`),s&&e.buildTime){o+=` @${new Date(e.buildTime).toISOString().split("T")[0]}`}return o},m=e=>t.useMemo(()=>a(e),[e?.productionVersion,e?.packageVersion,e?.environment,e?.commitHash,e?.buildTime]),u=e=>{const r=m(e);return t.useMemo(()=>c(r,e),[r,e?.showEnvironment,e?.showCommitHash,e?.showBuildTime])};exports.VersionDisplay=function({className:t=""}){const r=a();return e.jsx("span",{className:t,children:c(r)})},exports.VersionDisplayAdvanced=({className:t="",children:r,...n})=>{const s=m(n),o=u(n);return r?e.jsx(e.Fragment,{children:r(o,s)}):e.jsx("span",{className:t,"data-testid":"version-display",children:o})},exports.createVersionFormatter=e=>t=>c(t,e),exports.default=a,exports.formatVersion=c,exports.getEnvVar=s,exports.getShortCommitHash=i,exports.getVersionInfo=a,exports.incrementVersion=n,exports.parseBuildTime=o,exports.useVersionDisplay=u,exports.useVersionInfo=m;
//# sourceMappingURL=index.js.map
